/*!
 * Random version 0.2.1
 * Copyright 2014-Preset
 * Author: Ratchagarn Naewbuntad & Watcharakrit Phantu
 * Licensed under MIT
 */
(function(){"use strict";var a=this,b=function(){function a(){}function b(a){return a instanceof Array?!0:!1}function c(a){var b,c;c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}function d(a){function b(){}return b.call(a),b}function e(a){var b=document.querySelector('script[src="'+a+'"]');b&&b.parentNode.removeChild(b)}var f={},g=["normal","update","load"];return{list:function(){var a=[];for(var b in f)a.push(b);return a},exports:function(a,b,c){if(null==c&&(c="normal"),-1===g.indexOf(c))throw new Error("Export action name `"+c+"` doesn't exist. ("+g+")");if(f[a]){if("update"!==c&&"load"!==c)throw new Error("Export name `"+a+"` is already exist.");"update"===c&&(f[a]=b)}else f[a]=b},require:function(a){if(!f[a])throw new Error("Export name `"+a+"  doesn't exist.");return f[a]},requireClone:function(a){var e=require(a);return e?("function"==typeof e?e=d(e):b(e)?e=e.slice(0):"object"==typeof e&&(e=c(e)),e):void 0},load:function(b,c,d){null==d&&(d="current"),e(b);var f=document.createElement("script");if(f.src=b,f.onreadystatechange=c||a,f.onload=c||a,"head"===d)document.getElementsByTagName("head")[0].appendChild(f);else if("current"===d){var g=document.getElementsByTagName("script");g=g[g.length-1],g.parentNode.insertBefore(f,g)}else"bottom"===d&&document.getElementsByTagName("body")[0].appendChild(f)}}}();a.exports||a.require||a.requireClone||(a.exports=b.exports,a.require=b.require,a.requireClone=b.requireClone),a.transit=b}).call(this),function(){"use strict";var a=this,b=function(){return{noop:function(){},extend:function(b,c){for(var d in c)c[d]&&c[d].constructor&&c[d].constructor===Object?(b[d]=b[d]||{},a.util.extend(b[d],c[d])):b[d]=c[d];return b},clone:function(a){var b,c;c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c},rand:function(a,b){return Math.floor(Math.random()*(b-a+1))+a}}}(a);exports("util",b)}.call(this),function(a){"use strict";function b(a){this.storage_name="random_source",this.options=a,this.init()}var c=(Array.prototype.slice,require("util"));b.extend=function(a){b.prototype=c.extend(a,b.prototype)},b.doAutoSaveState=function(a){return a.options.autoSaveState?(a.saveState(),!0):!1},b.prototype={init:function(){console.log("Init random !");var a={source:[],autoSaveState:!1,defaultTTL:864e5},b=this.getState();return this.options=c.extend(a,this.options),this.source=this.options.source.slice(0),b?this.source=b.slice(0):this.default_source&&(this.source=this.default_source.slice(0)),this.default_source=this.options.source.slice(0),this.rollback_source=[],"function"==typeof this.hookInit&&this.hookInit.call(this),this},setOptions:function(a){return this.options=c.extend(this.options,a),this},getState:function(){return a.get(this.storage_name)},saveState:function(b){null==b&&(b={});var d=this,e={TTL:b.defaultTTL||d.options.defaultTTL};return b=c.extend(e,b),a.set(this.storage_name,this.source,b)},deleteState:function(){return a.deleteKey(this.storage_name)},reset:function(){return this.source=this.default_source.slice(0),b.doAutoSaveState(this),this},rollback:function(){var a=this.rollback_source.pop();return a&&(this.source=a,b.doAutoSaveState(this)),this},popByIndex:function(a,c){var d=null;return null==c&&(c=!0),c?(this.rollback_source.push(this.source.slice(0)),d=this.source.splice(a,1)):d=this.source.slice(a,a+1),b.doAutoSaveState(this),d[0]},pop:function(a){var b=c.rand(0,this.source.length-1),d=this.popByIndex(b,a);return d}},exports("Random",b)}.call(this,simpleStorage),function(){"use strict";function a(){this.init()}require("util");a.prototype={init:function(){console.log("Animation init !")}},exports("Animation",a)}.call(this),function(){"use strict";{var a=this,b=require("Random");require("util")}b.extend({hookInit:function(){this.animation=new(require("Animation"))},play:function(){console.log("Play")}}),a.Random=b}.call(this);